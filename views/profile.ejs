<!-- views/index.ejs 

REFERENCE: http://bootsnipp.com/snippets/featured/simple-user-profile


-->
<!doctype html>
<html>
<head>
<% include ./partials/head %>
</head>
<body>
    <script>
    $(document).ready(function() {
    var panels = $('.user-infos');
    var panelsButton = $('.dropdown-user');
    panels.hide();

    //Click dropdown
    panelsButton.click(function() {
        //get data-for attribute
        var dataFor = $(this).attr('data-for');
        var idFor = $(dataFor);

        //current button
        var currentButton = $(this);
        idFor.slideToggle(400, function() {
            //Completed slidetoggle
            if(idFor.is(':visible'))
            {
                currentButton.html('<i class="glyphicon glyphicon-chevron-up text-muted"></i>');
            }
            else
            {
                currentButton.html('<i class="glyphicon glyphicon-chevron-down text-muted"></i>');
            }
        })
    });


    $('[data-toggle="tooltip"]').tooltip();

    $('#enableEdit').click(function() {
        
        $('.fields').toggle();  
        $('#enableEdit').toggle();
        $('.editProfileField').toggle();
        $('#enableSave').toggle();
        $('#enableCancel').toggle();

    });
     $('#enableCancel').click(function() {
        
        $('.fields').toggle();  
        $('#enableEdit').toggle();
        $('.editProfileField').toggle();
        $('#enableSave').toggle();
        $('#enableCancel').toggle();

    });
    
    
});
    </script>
    
    <style>
    
    .user-row {
    margin-bottom: 14px;
}

.user-row:last-child {
    margin-bottom: 0;
}

.dropdown-user {
    margin: 13px 0;
    padding: 5px;
    height: 100%;
}

.dropdown-user:hover {
    cursor: pointer;
}

.table-user-information > tbody > tr {
    border-top: 1px solid rgb(221, 221, 221);
}

.table-user-information > tbody > tr:first-child {
    border-top: 0;
}


.table-user-information > tbody > tr > td {
    border-top: 0;
}
.toppad
{margin-top:20px;
}

    
    
    
    .editProfileField{
                    height: 20px;
                    width:60%;
                    padding: 0px 0px;
                    display:none;
                    margin-left:1px;
                    }
    .fix{width:40%;margin-right:5px;}
    #enableSave, #enableCancel{display:none;}

    
    
    </style>
    <h1>Profile Page</h1>
<div class="container">
      <div class="row">
      <div class="col-md-5  toppad  pull-right col-md-offset-3 ">
           <A href="edit.html" >Edit Profile</A>

       <br>
<p class=" text-info"> <%=new Date().toJSON().slice(0,10) +" "+ new Date().toJSON().slice(11,16)%> </p>
      </div>
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xs-offset-0 col-sm-offset-0 col-md-offset-3 col-lg-offset-3 toppad" >
   
   
          <div class="panel panel-info">
            <div class="panel-heading">
              <h3 class="panel-title"><%= user.local.email %></h3>
            </div>
            <div class="panel-body">
              <div class="row">
                <div class="col-md-3 col-lg-3 " align="center"> <img alt="User Pic" src=<%= user.local.pictureUrl%> class="img-circle img-responsive"> </div>
                
                <!--<div class="col-xs-10 col-sm-10 hidden-md hidden-lg"> <br>
                  <dl>
                    <dt>DEPARTMENT:</dt>
                    <dd>Administrator</dd>
                    <dt>HIRE DATE</dt>
                    <dd>11/12/2013</dd>
                    <dt>DATE OF BIRTH</dt>
                       <dd>11/12/2013</dd>
                    <dt>GENDER</dt>
                    <dd>Male</dd>
                  </dl>
                </div>-->
                <div class=" col-md-9 col-lg-9 "> 
                  <table class="table table-user-information">
                <form action="/updateUser" method="post">
                    <tbody>
                      <tr>
                        <td>Name:</td>
                        <td><span class='fields'><%= user.local.name.firstName+' '+user.local.name.surname%></span>
                        <input name='name' value=<%= user.local.name.firstName%> type="text" class="form-control editProfileField fix"  placeholder="name">
                        <input name='surname' value=<%= user.local.name.surname%> type="text" class="form-control editProfileField fix"  placeholder="surname"></td>
                      </tr>
                      <tr>
                        <td>Email</td>
                        <td><span class='fields'><a href=<%='mailto:'+user.local.email%>><%=user.local.email%></a></span>
                        <input name='email' value=<%= user.local.email%> type="email" class="form-control editProfileField"  placeholder="e-mail"></td>
                      </tr>
                      <td>NickName:</td>
                        <td><span class='fields'><%=user.local.username%></span>
                        <input name='username' value=<%= user.local.username%> type="text" class="form-control editProfileField"  placeholder="NickName"></td>
                      </tr>
                    <td>Age:</td>
                        <td><span class='fields'><%=user.local.age%></span>
                        <input name='age' value=<%= user.local.age%> type="text" class="form-control editProfileField"  placeholder="Age"></td>
                      </tr>
                      <tr>
                        <td>Created:</td>
                        <td><%=user.local.createdOn%></td>
                      </tr>
                     
                    </tbody>
                    
                  </table>
                </div>
              </div>
            </div>
                 <div class="panel-footer">
                        <a data-original-title="Remove this user" data-toggle="tooltip" type="button" class="btn btn-sm btn-danger"><i class="glyphicon glyphicon-remove"></i></a>
                        <span class="pull-right">
                            <a id='enableEdit' data-original-title="Edit this user" data-toggle="tooltip" type="button" class="btn btn-sm btn-warning"><i class="glyphicon glyphicon-edit"></i></a>
                            <input id='enableSave' value='Save' data-original-title="Save details" data-toggle="tooltip" type="submit" class="btn btn-sm btn-warning"></input>
                            <input id='enableCancel' value='Cancel' data-original-title="cancel" data-toggle="tooltip" type="button" class="btn btn-sm btn-warning"></input>
                        </span>
                    </div>
            </form>
          </div>
        </div>
      </div>
    </div>
</body>
</html>
    